<section class= "commentSection">

    <h2>Leave a comment!</h2>

    <div class="row">
        <div class="col-md-12 comment">
            <form action="/comment" method="POST" onsubmit="return emptyvalue();">
                <input type="hidden" name="bookid" value="<%= books.id %>">
                <div class="mb-3">
                  <label for="text" class="form-label">User Name</label>
                  <input type="text" class="form-control" name="username">
                  </div>
                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label">Comment</label><br>
                  <textarea name="usercomment"></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 20%; margin-top: 1vw; background-color: #0e9370;">Submit</button>
              </form>
        </div>
    </div>

</section>

<section class="usercomment">
    <div class="row">

        <% userdata.forEach(data => { %> 
            <div class="abc col-md-12 col-sm-12">

                <label for="text"><%= data.username %></label>
                <p><%= data.usercomment %></p>

            </div>
            

         <%  }); %>

    </div>
</section>

<form action="/home" method="POST">
    <button type="submit" class="btn btn-primary" style="width: 20%; margin-top: 1vw; background-color: #0e9370;"> Back to Home <i class="fa-solid fa-house-chimney"></i> </button>
</form>

<script>

function emptyvalue() {
        const username = document.getElementsByName("username")[0].value;
        const usercomment = document.getElementsByName("usercomment")[0].value;

        if (!username || !usercomment) {
            alert("Please fill in both the fields!");
            return false;
        }
        return true;
    }

</script>